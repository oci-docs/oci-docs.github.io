<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2020-04-03T17:05:55 KST">

<meta name="description" content="오라클 클라우드 사용자 가이드입니다. 오라클 클라우드(OCI, Oracle Cloud Infrasturcture) 사용자를 위해 주요 문서를 정리합니다.">
<meta name="generator" content="Hugo 0.27.1" />
<meta property="og:title" content="Compute Service(VM) 생성" />
<meta property="og:description" content="OCI Compute 서비스를 사용하면 VM 인스턴스를 생성하는 기초 핸즈온입니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/" />



<meta property="article:published_time" content="2020-04-02T12:11:05&#43;09:00"/>
<meta property="article:modified_time" content="2020-04-02T12:11:05&#43;09:00"/>












<link rel="dns-prefetch" href="//fonts.googleapis.com" />



<title>Compute Service(VM) 생성 :: 오라클 클라우드 사용자 가이드</title>

<link rel="shortcut icon" href="http://taewan.kim/img/icon/oracle.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="OCI Compute 서비스를 사용하면 VM 인스턴스를 생성하는 기초 핸즈온입니다.">


<link href='/css/railload.css' rel="stylesheet"/>


<link href="/css/twstyle.css" rel="stylesheet">

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?style=Sons-Of-Obsidian"></script>


<style>
    li.L0, li.L1, li.L2, li.L3,
    li.L5, li.L6, li.L7, li.L8
       { list-style-type: decimal !important }
</style>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162015179-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162015179-1');
</script>





    
  </head>
  <body data-url="/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">오라클 클라우드 사용자 가이드</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://cloud.oracle.com"  rel="noopener">
                  <i class='fa fa-cloud'></i> <label>Oracle Cloud</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://docs.cloud.oracle.com/"  rel="noopener">
                  <i class='fa fa-book'></i> <label>OCI Docs</label>
                </a>
            </li>
            <li class="" role="">
                <a href="http://taewan.kim/"  rel="noopener">
                  <i class='fa fa-send'></i> <label>taewan.kim blog</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
    <li data-nav-id="/000.index/" class="dd-item
        ">
      <div>
      <a href="/000.index/">오라클 클라우드 사용자 가이드</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/010.oci_intro/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/">OCI(Oracle Cloud)-기초 입문</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/010.oci_intro/basic_concept/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/basic_concept/">OCI 입문: 기본 개념</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_introduction/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_introduction/">
            Oracle Cloud Infrasturcture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/terminologies/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/terminologies/">
            OCI 기초 용어 정리
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/">
            OCI Classic과 OCI Gen2
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_resion_info/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_resion_info/">
            OCI 리전 정보
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_services_in_regions/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_services_in_regions/">
            OCI 리전별 서비스 현황 
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_free_trial/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_free_trial/">
            OCI Free Tier
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/">
            OCI 사용자 ID 관리 서비스
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/initial_oci_tenancy/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/initial_oci_tenancy/">
            OCI Tenancy 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/">
            클라우드 서비스 용어 비교
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/">OCI 입문: Hands-on 101 클래스</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/000.oci_free_trial/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/000.oci_free_trial/">
            OCI Free Tier 등록
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/010.console/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/010.console/">OCI Console</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/">
            OCI Console 로그인
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/">
            OCI Console 사용법
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/">OCI 사용자&amp;보안 설정</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/">
            OCI Admin 로그인 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/">
            OCI User 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/">
            OCI Group 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/">
            OCI Compartment 만들기
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/">
            OCI Policy: 권한 설정
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/030.oci_infra_basic/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/">OCI Infra 기초</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/">
            VCN 생성(OCI Console:간편모드)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/" class="dd-item active">
        <div>
          <a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/">
            Compute Service(VM) 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>




    </ul>
    <section><hr />
<div class="widget-categories widget">
	<h4 class="widget__title">&nbsp;&nbsp;License</h4>
	<div class="widget__content">
		&nbsp;&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
	</div>
	<div class="widget__content">
        <div>
        이 저작물은 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
        </div>
	</div>
</div>
<hr />
<div>
    <hr/>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-8469722754608892"
         data-ad-slot="5594090168"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <hr/>  
  </div>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/000.index/" >
   오라클 클라우드 사용자 가이드</option>
    <option value="/010.oci_intro/" >
   OCI(Oracle Cloud)-기초 입문</option> 
    <option value="/010.oci_intro/basic_concept/" >
  - 
   OCI 입문: 기본 개념</option> 
      <option value="/010.oci_intro/basic_concept/oci_introduction/" >-- Oracle Cloud Infrasturcture</option>
      <option value="/010.oci_intro/basic_concept/terminologies/" >-- OCI 기초 용어 정리</option>
      <option value="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/" >-- OCI Classic과 OCI Gen2</option>
      <option value="/010.oci_intro/basic_concept/oci_resion_info/" >-- OCI 리전 정보</option>
      <option value="/010.oci_intro/basic_concept/oci_services_in_regions/" >-- OCI 리전별 서비스 현황 </option>
      <option value="/010.oci_intro/basic_concept/oci_free_trial/" >-- OCI Free Tier</option>
      <option value="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/" >-- OCI 사용자 ID 관리 서비스</option>
      <option value="/010.oci_intro/basic_concept/initial_oci_tenancy/" >-- OCI Tenancy 생성</option>
      <option value="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/" >-- 클라우드 서비스 용어 비교</option>
  
    <option value="/010.oci_intro/hands-on-101/" >
  - 
   OCI 입문: Hands-on 101 클래스</option> 
      <option value="/010.oci_intro/hands-on-101/000.oci_free_trial/" >-- OCI Free Tier 등록</option>
    <option value="/010.oci_intro/hands-on-101/010.console/" >
  -- 
   OCI Console</option> 
      <option value="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/" >--- OCI Console 로그인</option>
      <option value="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/" >--- OCI Console 사용법</option>
  
    <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/" >
  -- 
   OCI 사용자&amp;보안 설정</option> 
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/" >--- OCI Admin 로그인 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/" >--- OCI User 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/" >--- OCI Group 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/" >--- OCI Compartment 만들기</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/" >--- OCI Policy: 권한 설정</option>
  
    <option value="/010.oci_intro/hands-on-101/030.oci_infra_basic/" >
  -- 
   OCI Infra 기초</option> 
      <option value="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" >--- VCN 생성(OCI Console:간편모드)</option>
      <option value="/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/"  selected>--- Compute Service(VM) 생성</option>
  
  
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    <h1>Compute Service(VM) 생성</h1>


     
      
  
    
    
    
    

<p>OCI Compute 서비스를 이용하여 오라클 클라우드에 Compute(VM or 베이메탈) 서버를 만들고 관리할 수 있습니다. 이렇게 만든 서버를 Compute 인스턴스라고 합니다.</p>

<h1 id="hol-oci-compute">HOL: OCI Compute</h1>

<p>이번 <strong>Hands-on Lab</strong>에서는 OCI Console을 이용하여 OCI Linux VM 인스턴스를 생성하는 절차를 소개합니다. 이번 <strong>Hands-on Lab</strong>은 다음과 같은 작업으로 진행됩니다.</p>

<ul>
<li>OCI 자원 사용량 체크</li>
<li>OCI Console을 이용하여 Oracle Linux VM 생성</li>
<li>VM 인스턴스에 ssh 로그인</li>
<li>Nginx 설치</li>
<li>OS 방화벽 오픈</li>
<li>VCN 보안 설정 추가</li>
<li>브라우저로 접근</li>
</ul>

<p>이번 <strong>Hands-on Lab</strong>을 통해서 다음과 같은 VM 인스턴스를 만들 수 있습니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/ocidocs/vm/300.jpg?classes=border,shadow" alt="" /></p>

<p>이번 <strong>Hands-on Lab</strong>은 다음과 같은 목차로 구성됩니다.</p>


<div class="panel panel-primary"><div class="panel-body"><p><nav id="TableOfContents">
<ul>
<li><a href="#hol-oci-compute">HOL: OCI Compute</a>
<ul>
<li><a href="#compute-서비스-개요">Compute 서비스 개요</a></li>
<li><a href="#선행-hand-on-lab">선행 Hand-on Lab</a></li>
<li><a href="#hands-on-lab-실습-환경">Hands-on Lab 실습 환경</a></li>
<li><a href="#사전-준비">사전 준비</a>
<ul>
<li><a href="#사용-가능한-자원-확인">사용 가능한 자원 확인</a></li>
<li><a href="#ssh-key-pair-생성-cloud-shell">SSH Key Pair 생성(@Cloud Shell)</a></li>
</ul></li>
<li><a href="#oci-compute-인스턴스-생성">OCI Compute 인스턴스 생성</a>
<ul>
<li><a href="#ssh-접속-및-설치">SSH 접속 및 설치</a>
<ul>
<li><a href="#nginx-설치">Nginx 설치</a></li>
</ul></li>
<li><a href="#nginx-서비스-등록">nginx 서비스 등록</a></li>
<li><a href="#인스턴스-방화벽-오픈">인스턴스 방화벽 오픈</a></li>
<li><a href="#security-list-설정">Security List 설정</a></li>
<li><a href="#공개-ip-브라우저-접근">공개 IP 브라우저 접근</a></li>
</ul></li>
</ul></li>
</ul>
</nav></p>
</div></div>


<h2 id="compute-서비스-개요">Compute 서비스 개요</h2>

<p>OCI Compute는 오라클 클라우드에 컴퓨트 서버를 배포하고 관리하는 서비스입니다. OCI Compute로 배포한 서버를 <strong>인스턴스</strong>라고 합니다. OCI Compute 인스턴스에는 스토리지로 로컬 스토리지와 Volume 스토리지를 갖을 수 있습니다. 로컬 스토리에서 저장된 데이터는 인스턴스를  종료(자원 제거)하면 완전 소멸됩니다. Volume 스토리지에 저장된 데이터는 인스턴스를 종료 후에도 유지됩니다.</p>

<p>OCI Compute는 두 가지 유형의 인스턴스를 제공합니다.</p>

<ul>
<li>Bare Metal

<ul>
<li>OCI 사용자에게 물리적으로 존재하는 전용 서버에 인스턴스를 설치하여 제공하는 방식</li>
<li>고 성능 및 강력한 독립성 제공</li>
</ul></li>
<li>Virtual Machine

<ul>
<li>Bare Metal 서버위에 가상화 환경을 구성하고 인스턴스를 설치하여 제공하는 방식</li>
</ul></li>
</ul>

<p>OCI의 VM과 Bare Metal은 같은 인프라(물리적 서버)를 사용합니다. OCI Compute는 <a href="https://docs.oracle.com/cd/E52668_01/E39380/html/ol_about_ksplice.html" target="_blank">Oracle Ksplice <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

를 사용하여 하이퍼바이저 호스트를 재시작하지 않고 보안과 커널 업데이트를 적용합니다.</p>

<h2 id="선행-hand-on-lab">선행 Hand-on Lab</h2>

<p>다음과 같은 Hand-on Lab이 선행되어야 합니다.</p>

<ul>
<li><a href="/010.oci_intro/hands-on-101/000.oci_free_trial/" target="_blank">OCI Free Tier 등록 <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
<li><a href="/010.oci_intro/hands-on-101/020.setting_basic_env/" target="_blank">OCI 사용자&amp;보안 설정 <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
<li><a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" target="_blank">VCN 생성(OCI Console:간편모드) <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
</ul>

<h2 id="hands-on-lab-실습-환경">Hands-on Lab 실습 환경</h2>

<p>이 <strong>Hands-on Lab</strong>은 OCI 일반 사용자인 demo.admin 사용자로 OCI IAM 로그인하여 진행합니다. 이번 <strong>Hands-on Lab</strong>에서 사용할 OCI 사용자와 컴파트먼트는 다음과 같습니다.</p>

<table>
<thead>
<tr>
<th>OCI User</th>
<th>Password</th>
<th>작업 Compartment</th>
</tr>
</thead>

<tbody>
<tr>
<td>demo.admin</td>
<td>Welcome123456!</td>
<td>root/sandbox/demo-prod</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/ocidocs/vm/300.jpg?classes=border,shadow" alt="" /></p>

<h2 id="사전-준비">사전 준비</h2>

<p>OCI Compute 인스턴스를 만들기 위해서는 다음과 같은 두 가지 준비 작업이 필요합니다.</p>

<ol>
<li>사용 가능한 자원 확인</li>
<li>ssh Key Pair 파일 생성</li>
</ol>

<h3 id="사용-가능한-자원-확인">사용 가능한 자원 확인</h3>

<p>OCI Compute 인스턴스를 어떤 자원(OCPU)로 만들지 결정해야 합니다. 가용한 자원을 확인하는 기능은 <strong>Limits, Quotas and Usage</strong> 페이지에서 확인할 수 있습니다. 추가 권한 설정을 하지 않은 경우에, OCI 관리자 ID만이 이 페이지에 접근할 수 있습니다. 가용한 자원을 확인하는 작업은 Oracle Cloud 계정의 관리자 ID(taewanme@gmail.com)으로 로그인하여 진행합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><span class="glyphicon glyphicon-menu-hamburger" style="font-size:medium" aria-hidden="true"></span> (<strong>OCI 콘솔 왼쪽 위 햄버그 버튼</strong>) <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span>  <strong>Governance</strong> <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span> <strong>Limits, Quotas and Usage</strong></div></div>


<p><img src="https://taewanmerepo.github.io/2020/03/compute/030.jpg?classes=border,shadow" alt="" /></p>

<p><strong>Limits, Quotas and Usage</strong> 페이지에서 <strong>Scope</strong> 항목에서 AD를 지정하면, 현재 사용 가능한 자원 규모가 출력됩니다. 아래 이미지는 Oracle Cloud Trial 계정에 기본 할당된 자원 규모입니다. 아래 결과를 확인하고 이번 <strong>Hands-on Lab</strong>에서는 <font color="red"><strong>VM.Standard2.2</strong></font>를 사용하기로 결정합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/040.jpg?classes=border,shadow" alt="" /></p>

<p>다음 명령을 입력하여 생성한 ssh key pair 파일 Permission을 600으로 설정합니다.</p>

<pre class="prettyprint lang-bsh">
demo_admin@cloudshell:~ (ap-seoul-1)$ chmod 600 ~/.ssh/id*
demo_admin@cloudshell:~ (ap-seoul-1)$ ls -al ~/.ssh
total 12
drwx------. 2 demo_admin oci   57 Apr  3 03:34 .
drwxr-xr-x. 3 demo_admin oci  109 Apr  3 00:03 ..
-rw-------. 1 demo_admin oci 1679 Apr  3 00:03 id_rsa
-rw-------. 1 demo_admin oci  405 Apr  3 00:03 id_rsa.pub
-rw-r--r--. 1 demo_admin oci  351 Apr  3 05:08 known_hosts
demo_admin@cloudshell:~ (ap-seoul-1)$ 
</pre>

<div class="notices note" ><p><p>이제 <font color="red">OCI 관리자 ID를 로그아웃</font> 하고, OCI 일반 사용자인 <font color="red"><strong>demo.admin</strong></font> 사용자로 OCI IAM 로그인하여 다음 과정을 진행합니다.</p>
</p></div>


<h3 id="ssh-key-pair-생성-cloud-shell">SSH Key Pair 생성(@Cloud Shell)</h3>

<p>생성한 Compute 인스턴스애 ssh 접근을 가능하게 만들기 위해서, Compute 인스턴스를 생성할 때 SSH 공개키를 등록해야 합니다. Compute 인스턴스에 등록할 SSH 키쌍(Key Pairs) 파일을 준비합니다.</p>

<p>이번 <strong>Hands-on Lab</strong>에서 VM 인스턴스를 만든 다음에, Cloud Shell에서 ssh 로그인을 시도할 것입니다. Cloud Shell에서 SSH 키쌍(Key Pair) 파일을 만들겠습니다.</p>

<p><font color='red'><strong>demo.admin</strong></font>로 로그인하여 cloud shell을 실행합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/3070.jpg?classes=border,shadow" alt="" /></p>

<p>SSH Key Pair 파일을 만들기 위해서 다음 명령을 실행하고 추가되는 입력 요청에 추가 설정 없이 <font color='red'><strong>Enter</strong></font> 입력만 합니다.</p>

<pre><code>ssh-keygen -t rsa
</code></pre>

<p>위 명령을 실행하면 다음과 같이 실행됩니다. 명령이 실행되면서 4개 입력 요청이 나타납니다. 각 요청에 <strong>Enter</strong>만 입력합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/3080.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>명령이 실행되면 다음과 같이 생성되는 파일을 확인할 수 있고, 공개키 내용을 확인할 수 있습니다.</p>

<pre><code>## ssh key pair 파일 확인 명령
ls -al ~/.ssh/ 

## ssh 공개 키 확인 명령
cat ~/.ssh/id_rsa.pub
</code></pre>

<p>위 명령을 실행하면 다음과 같은 결과가 출력됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/3090.jpg?classes=border,shadow" alt="" /></p>

<p><font color='red'><strong>ssh 공개 키</strong></font>는 OCI Compute 인스턴스를 생성 과정에서 입력값으로 사용됩니다. 공개키를 별도 저장합니다.</p>

<h2 id="oci-compute-인스턴스-생성">OCI Compute 인스턴스 생성</h2>

<p>OCI Console에 <strong>demo.admin</strong> ID로 OCI IAM 옵션으로 로그인합니다. 그리고 Compute 인스턴스를 생성하기 위해서 다음과 같은 메뉴 패스로 이동합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><span class="glyphicon glyphicon-menu-hamburger" style="font-size:medium" aria-hidden="true"></span> (<strong>OCI 콘솔 왼쪽 위 햄버그 버튼</strong>) <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span>  <strong>Compute</strong> <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span> <strong>Instances</strong></div></div>


<p><img src="https://taewanmerepo.github.io/2020/03/compute/010.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>Compute Instance 관리 페이지에서 Compartment를 <strong>root/sandbox</strong>로 설정하고 <font color='red'><strong>Create Instance</strong></font> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/050.jpg?classes=border,shadow" alt="" /></p>

<p><font color='red'><strong>Create Instance</strong></font> 버튼을 클릭하면 Compute Instance 생성 폼이 출력됩니다. Compute Instance 생성 폼에서 <strong>Show Shape, Network and Storage Options</strong> 링크를 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/060.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>다음 항목을 다음 이미지와 같이 입력합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
<th>비고</th>
</tr>
</thead>

<tbody>
<tr>
<td>Name</td>
<td>demo-linux-vm</td>
<td></td>
</tr>

<tr>
<td>Image or operating system</td>
<td>Oracle Linux 7.7</td>
<td>- Chanage Image 버튼을 클릭하고 선택</br>-오라클 리눅스 7.X는 CentOs7.x/RedHat7.x와 완전한 호환성 제공</td>
</tr>

<tr>
<td>Availability Domain</td>
<td>AD 1</td>
<td></td>
</tr>

<tr>
<td>Shape</td>
<td>VM.Standard2.2(Virtual Machine)</td>
<td>- Change Shape 버튼을 클릭하고 선택</br>- 2 Core OCPU, 30GB Memory</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/070.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>다음과 같이 <strong>Networking</strong> 항목을 설정합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
<th>설명</th>
</tr>
</thead>

<tbody>
<tr>
<td>Virtual Cloud Network Compartment</td>
<td>hol-prod</td>
<td>선택</td>
</tr>

<tr>
<td>Virtual Cloud Network</td>
<td>demo-vcn</td>
<td>선택</td>
</tr>

<tr>
<td>Subnet Compartment</td>
<td>hol-prod</td>
<td>선택</td>
</tr>

<tr>
<td>Subnet</td>
<td>Public Subnet-demo-vcn(Regional)</td>
<td>선택</td>
</tr>

<tr>
<td>Assign a public address</td>
<td>체크</td>
<td></td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/080.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>Cloud Shell에서 다음 명령을 입력하고 ssh 공개키를 조회합니다. <strong>Paste SSH Keys</strong>를 체크하고 앞에서 복사한 공개키를 SSH Keys에 붙여 넣습니다. 그리고 <font color='red'><strong>Create</strong></font> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/090.jpg?classes=border,shadow" alt="" /></p>

<p>Compute Instance 생성 폼 입력을 마치고 <font color='red'><strong>Create</strong></font> 버튼을 클릭하면, <strong>demo-linux-vm</strong> 인스턴스의 상세 페이지로 이동합니다. 인스턴스 생성중에 아이콘은 주황색이고 인스턴스 프로비저닝이 완료되면 아이콘은 초록색으로 변경됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/100.jpg?classes=border,shadow" alt="" /></p>

<h3 id="ssh-접속-및-설치">SSH 접속 및 설치</h3>

<p>이제 <strong>demo-linux-vm</strong> Compute Instance가 생성되었습니다. <strong>demo-linux-vm</strong>의 공개 IP 주소를 확인하고 Cloud Shell에서 다음 명려응로 SSH 접근합니다.</p>

<pre><code>ssh opc@[Public IP Address]
</code></pre>

<ul>
<li>기본 인중서: ~/.ssh/id_rsa</li>
<li>opc: Oracle Linux VM의 기본 OS User</li>
</ul>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/110.jpg?classes=border,shadow" alt="" /></p>

<h4 id="nginx-설치">Nginx 설치</h4>

<p>다음 명령을 입력하여 nginx를 설치합니다.</p>

<pre><code>sudo yum install nginx -y
</code></pre>

<p>아래 [접기/펼치기]를 클릭하면 nginx 설치 명령 실행 로그를 확인할 수 있습니다.</p>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fa fa-chevron-down' : 'fa fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fa fa-chevron-right"></i>
        <span>
        
        
        [접기/펼치기] nginx 설치 명령 실행 로그
        
        </span>
    </div>
    <div class="expand-content" style="display: none;">
<pre class="prettyprint lang-bsh">
[opc@demo-linux-vm ~]$ sudo yum install nginx -y
Loaded plugins: langpacks, ulninfo
ol7_UEKR5                                                                                                      | 2.8 kB  00:00:00     
ol7_addons                                                                                                     | 2.8 kB  00:00:00     
ol7_developer                                                                                                  | 2.8 kB  00:00:00     
ol7_developer_EPEL                                                                                             | 3.4 kB  00:00:00     
ol7_ksplice                                                                                                    | 2.8 kB  00:00:00     
ol7_latest                                                                                                     | 3.4 kB  00:00:00     
ol7_oci_included                                                                                               | 2.9 kB  00:00:00     
ol7_optional_latest                                                                                            | 2.8 kB  00:00:00     
ol7_software_collections                                                                                       | 2.8 kB  00:00:00     
(1/19): ol7_UEKR5/x86_64/updateinfo                                                                            |  62 kB  00:00:00     
(2/19): ol7_developer/x86_64/primary_db                                                                        | 510 kB  00:00:00     
(3/19): ol7_addons/x86_64/updateinfo                                                                           |  84 kB  00:00:00     
(4/19): ol7_developer_EPEL/x86_64/group_gz                                                                     |  87 kB  00:00:00     
(5/19): ol7_developer_EPEL/x86_64/updateinfo                                                                   | 6.0 kB  00:00:00     
(6/19): ol7_developer/x86_64/updateinfo                                                                        | 5.0 kB  00:00:00     
(7/19): ol7_ksplice/primary_db                                                                                 | 727 kB  00:00:00     
(8/19): ol7_addons/x86_64/primary_db                                                                           | 147 kB  00:00:00     
(9/19): ol7_latest/x86_64/group_gz                                                                             | 148 kB  00:00:00     
(10/19): ol7_UEKR5/x86_64/primary_db                                                                           |  13 MB  00:00:00     
(11/19): ol7_latest/x86_64/updateinfo                                                                          | 2.7 MB  00:00:00     
(12/19): ol7_developer_EPEL/x86_64/primary_db                                                                  |  12 MB  00:00:00     
(13/19): ol7_ksplice/updateinfo                                                                                | 5.3 kB  00:00:00     
(14/19): ol7_oci_included/x86_64/primary_db                                                                    | 105 kB  00:00:00     
(15/19): ol7_optional_latest/x86_64/updateinfo                                                                 | 914 kB  00:00:00     
(16/19): ol7_latest/x86_64/primary_db                                                                          |  20 MB  00:00:00     
(17/19): ol7_software_collections/x86_64/primary_db                                                            | 4.8 MB  00:00:00     
(18/19): ol7_software_collections/x86_64/updateinfo                                                            | 8.7 kB  00:00:00     
(19/19): ol7_optional_latest/x86_64/primary_db                                                                 | 4.2 MB  00:00:00     
Resolving Dependencies
--> Running transaction check
---> Package nginx.x86_64 1:1.12.2-2.el7 will be installed
--> Processing Dependency: nginx-filesystem = 1:1.12.2-2.el7 for package: 1:nginx-1.12.2-2.el7.x86_64
--> Processing Dependency: nginx-all-modules = 1:1.12.2-2.el7 for package: 1:nginx-1.12.2-2.el7.x86_64
--> Processing Dependency: nginx-filesystem for package: 1:nginx-1.12.2-2.el7.x86_64
--> Processing Dependency: libprofiler.so.0()(64bit) for package: 1:nginx-1.12.2-2.el7.x86_64
--> Running transaction check
---> Package gperftools-libs.x86_64 0:2.6.1-1.0.1.el7 will be installed
---> Package nginx-all-modules.noarch 1:1.12.2-2.el7 will be installed
--> Processing Dependency: nginx-mod-stream = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
--> Processing Dependency: nginx-mod-mail = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
--> Processing Dependency: nginx-mod-http-xslt-filter = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
--> Processing Dependency: nginx-mod-http-perl = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
--> Processing Dependency: nginx-mod-http-image-filter = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
--> Processing Dependency: nginx-mod-http-geoip = 1:1.12.2-2.el7 for package: 1:nginx-all-modules-1.12.2-2.el7.noarch
---> Package nginx-filesystem.noarch 1:1.12.2-2.el7 will be installed
--> Running transaction check
---> Package nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7 will be installed
---> Package nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7 will be installed
--> Processing Dependency: gd for package: 1:nginx-mod-http-image-filter-1.12.2-2.el7.x86_64
--> Processing Dependency: libgd.so.2()(64bit) for package: 1:nginx-mod-http-image-filter-1.12.2-2.el7.x86_64
---> Package nginx-mod-http-perl.x86_64 1:1.12.2-2.el7 will be installed
---> Package nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7 will be installed
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.18)(64bit) for package: 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64
--> Processing Dependency: libxslt.so.1(LIBXML2_1.0.11)(64bit) for package: 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64
--> Processing Dependency: libxslt.so.1()(64bit) for package: 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64
--> Processing Dependency: libexslt.so.0()(64bit) for package: 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64
---> Package nginx-mod-mail.x86_64 1:1.12.2-2.el7 will be installed
---> Package nginx-mod-stream.x86_64 1:1.12.2-2.el7 will be installed
--> Running transaction check
---> Package gd.x86_64 0:2.0.35-26.el7 will be installed
--> Processing Dependency: libjpeg.so.62(LIBJPEG_6.2)(64bit) for package: gd-2.0.35-26.el7.x86_64
--> Processing Dependency: libjpeg.so.62()(64bit) for package: gd-2.0.35-26.el7.x86_64
--> Processing Dependency: libfontconfig.so.1()(64bit) for package: gd-2.0.35-26.el7.x86_64
--> Processing Dependency: libXpm.so.4()(64bit) for package: gd-2.0.35-26.el7.x86_64
--> Processing Dependency: libX11.so.6()(64bit) for package: gd-2.0.35-26.el7.x86_64
---> Package libxslt.x86_64 0:1.1.28-5.0.1.el7 will be installed
--> Running transaction check
---> Package fontconfig.x86_64 0:2.13.0-4.3.el7 will be installed
--> Processing Dependency: dejavu-sans-fonts for package: fontconfig-2.13.0-4.3.el7.x86_64
---> Package libX11.x86_64 0:1.6.7-2.el7 will be installed
--> Processing Dependency: libX11-common >= 1.6.7-2.el7 for package: libX11-1.6.7-2.el7.x86_64
--> Processing Dependency: libxcb.so.1()(64bit) for package: libX11-1.6.7-2.el7.x86_64
---> Package libXpm.x86_64 0:3.5.12-1.el7 will be installed
---> Package libjpeg-turbo.x86_64 0:1.2.90-8.el7 will be installed
--> Running transaction check
---> Package dejavu-sans-fonts.noarch 0:2.33-6.el7 will be installed
--> Processing Dependency: dejavu-fonts-common = 2.33-6.el7 for package: dejavu-sans-fonts-2.33-6.el7.noarch
---> Package libX11-common.noarch 0:1.6.7-2.el7 will be installed
---> Package libxcb.x86_64 0:1.13-1.el7 will be installed
--> Processing Dependency: libXau.so.6()(64bit) for package: libxcb-1.13-1.el7.x86_64
--> Running transaction check
---> Package dejavu-fonts-common.noarch 0:2.33-6.el7 will be installed
---> Package libXau.x86_64 0:1.0.8-2.1.el7 will be installed
--> Finished Dependency Resolution

Dependencies Resolved

=========================================================================================================
 Package                                   Arch                 Version                        Repository                        Size
=========================================================================================================
Installing:
 nginx                                     x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL               530 k
Installing for dependencies:
 dejavu-fonts-common                       noarch               2.33-6.el7                     ol7_latest                        64 k
 dejavu-sans-fonts                         noarch               2.33-6.el7                     ol7_latest                       1.4 M
 fontconfig                                x86_64               2.13.0-4.3.el7                 ol7_latest                       254 k
 gd                                        x86_64               2.0.35-26.el7                  ol7_latest                       144 k
 gperftools-libs                           x86_64               2.6.1-1.0.1.el7                ol7_latest                       271 k
 libX11                                    x86_64               1.6.7-2.el7                    ol7_latest                       606 k
 libX11-common                             noarch               1.6.7-2.el7                    ol7_latest                       164 k
 libXau                                    x86_64               1.0.8-2.1.el7                  ol7_latest                        28 k
 libXpm                                    x86_64               3.5.12-1.el7                   ol7_latest                        55 k
 libjpeg-turbo                             x86_64               1.2.90-8.el7                   ol7_latest                       134 k
 libxcb                                    x86_64               1.13-1.el7                     ol7_latest                       213 k
 libxslt                                   x86_64               1.1.28-5.0.1.el7               ol7_latest                       241 k
 nginx-all-modules                         noarch               1:1.12.2-2.el7                 ol7_developer_EPEL                16 k
 nginx-filesystem                          noarch               1:1.12.2-2.el7                 ol7_developer_EPEL                17 k
 nginx-mod-http-geoip                      x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                23 k
 nginx-mod-http-image-filter               x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                26 k
 nginx-mod-http-perl                       x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                35 k
 nginx-mod-http-xslt-filter                x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                25 k
 nginx-mod-mail                            x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                53 k
 nginx-mod-stream                          x86_64               1:1.12.2-2.el7                 ol7_developer_EPEL                76 k

Transaction Summary
=========================================================================================================
Install  1 Package (+20 Dependent packages)

Total download size: 4.3 M
Installed size: 14 M
Downloading packages:
(1/21): dejavu-fonts-common-2.33-6.el7.noarch.rpm                                                              |  64 kB  00:00:00     
(2/21): fontconfig-2.13.0-4.3.el7.x86_64.rpm                                                                   | 254 kB  00:00:00     
(3/21): dejavu-sans-fonts-2.33-6.el7.noarch.rpm                                                                | 1.4 MB  00:00:00     
(4/21): gd-2.0.35-26.el7.x86_64.rpm                                                                            | 144 kB  00:00:00     
(5/21): gperftools-libs-2.6.1-1.0.1.el7.x86_64.rpm                                                             | 271 kB  00:00:00     
(6/21): libX11-1.6.7-2.el7.x86_64.rpm                                                                          | 606 kB  00:00:00     
(7/21): libX11-common-1.6.7-2.el7.noarch.rpm                                                                   | 164 kB  00:00:00     
(8/21): libXau-1.0.8-2.1.el7.x86_64.rpm                                                                        |  28 kB  00:00:00     
(9/21): libXpm-3.5.12-1.el7.x86_64.rpm                                                                         |  55 kB  00:00:00     
(10/21): libjpeg-turbo-1.2.90-8.el7.x86_64.rpm                                                                 | 134 kB  00:00:00     
(11/21): libxcb-1.13-1.el7.x86_64.rpm                                                                          | 213 kB  00:00:00     
(12/21): libxslt-1.1.28-5.0.1.el7.x86_64.rpm                                                                   | 241 kB  00:00:00     
(13/21): nginx-1.12.2-2.el7.x86_64.rpm                                                                         | 530 kB  00:00:00     
(14/21): nginx-all-modules-1.12.2-2.el7.noarch.rpm                                                             |  16 kB  00:00:00     
(15/21): nginx-filesystem-1.12.2-2.el7.noarch.rpm                                                              |  17 kB  00:00:00     
(16/21): nginx-mod-http-geoip-1.12.2-2.el7.x86_64.rpm                                                          |  23 kB  00:00:00     
(17/21): nginx-mod-http-image-filter-1.12.2-2.el7.x86_64.rpm                                                   |  26 kB  00:00:00     
(18/21): nginx-mod-http-perl-1.12.2-2.el7.x86_64.rpm                                                           |  35 kB  00:00:00     
(19/21): nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64.rpm                                                    |  25 kB  00:00:00     
(20/21): nginx-mod-mail-1.12.2-2.el7.x86_64.rpm                                                                |  53 kB  00:00:00     
(21/21): nginx-mod-stream-1.12.2-2.el7.x86_64.rpm                                                              |  76 kB  00:00:00     
----------------------------------------------------------------------------------------------------
Total                                                                                                  18 MB/s | 4.3 MB  00:00:00     
Running transaction check
Running transaction test
Transaction test succeeded
Running transaction
  Installing : gperftools-libs-2.6.1-1.0.1.el7.x86_64                                                                            1/21 
  Installing : libX11-common-1.6.7-2.el7.noarch                                                                                  2/21 
  Installing : dejavu-fonts-common-2.33-6.el7.noarch                                                                             3/21 
  Installing : dejavu-sans-fonts-2.33-6.el7.noarch                                                                               4/21 
  Installing : fontconfig-2.13.0-4.3.el7.x86_64                                                                                  5/21 
  Installing : libxslt-1.1.28-5.0.1.el7.x86_64                                                                                   6/21 
  Installing : libXau-1.0.8-2.1.el7.x86_64                                                                                       7/21 
  Installing : libxcb-1.13-1.el7.x86_64                                                                                          8/21 
  Installing : libX11-1.6.7-2.el7.x86_64                                                                                         9/21 
  Installing : libXpm-3.5.12-1.el7.x86_64                                                                                       10/21 
  Installing : 1:nginx-filesystem-1.12.2-2.el7.noarch                                                                           11/21 
  Installing : libjpeg-turbo-1.2.90-8.el7.x86_64                                                                                12/21 
  Installing : gd-2.0.35-26.el7.x86_64                                                                                          13/21 
  Installing : 1:nginx-mod-http-geoip-1.12.2-2.el7.x86_64                                                                       14/21 
  Installing : 1:nginx-mod-mail-1.12.2-2.el7.x86_64                                                                             15/21 
  Installing : 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64                                                                 16/21 
  Installing : 1:nginx-mod-http-perl-1.12.2-2.el7.x86_64                                                                        17/21 
  Installing : 1:nginx-mod-stream-1.12.2-2.el7.x86_64                                                                           18/21 
  Installing : 1:nginx-1.12.2-2.el7.x86_64                                                                                      19/21 
  Installing : 1:nginx-mod-http-image-filter-1.12.2-2.el7.x86_64                                                                20/21 
  Installing : 1:nginx-all-modules-1.12.2-2.el7.noarch                                                                          21/21 
  Verifying  : libXpm-3.5.12-1.el7.x86_64                                                                                        1/21 
  Verifying  : libjpeg-turbo-1.2.90-8.el7.x86_64                                                                                 2/21 
  Verifying  : 1:nginx-filesystem-1.12.2-2.el7.noarch                                                                            3/21 
  Verifying  : gd-2.0.35-26.el7.x86_64                                                                                           4/21 
  Verifying  : libxcb-1.13-1.el7.x86_64                                                                                          5/21 
  Verifying  : fontconfig-2.13.0-4.3.el7.x86_64                                                                                  6/21 
  Verifying  : libXau-1.0.8-2.1.el7.x86_64                                                                                       7/21 
  Verifying  : libxslt-1.1.28-5.0.1.el7.x86_64                                                                                   8/21 
  Verifying  : 1:nginx-mod-http-geoip-1.12.2-2.el7.x86_64                                                                        9/21 
  Verifying  : dejavu-fonts-common-2.33-6.el7.noarch                                                                            10/21 
  Verifying  : 1:nginx-1.12.2-2.el7.x86_64                                                                                      11/21 
  Verifying  : dejavu-sans-fonts-2.33-6.el7.noarch                                                                              12/21 
  Verifying  : 1:nginx-mod-mail-1.12.2-2.el7.x86_64                                                                             13/21 
  Verifying  : libX11-1.6.7-2.el7.x86_64                                                                                        14/21 
  Verifying  : 1:nginx-all-modules-1.12.2-2.el7.noarch                                                                          15/21 
  Verifying  : libX11-common-1.6.7-2.el7.noarch                                                                                 16/21 
  Verifying  : 1:nginx-mod-http-xslt-filter-1.12.2-2.el7.x86_64                                                                 17/21 
  Verifying  : gperftools-libs-2.6.1-1.0.1.el7.x86_64                                                                           18/21 
  Verifying  : 1:nginx-mod-http-perl-1.12.2-2.el7.x86_64                                                                        19/21 
  Verifying  : 1:nginx-mod-http-image-filter-1.12.2-2.el7.x86_64                                                                20/21 
  Verifying  : 1:nginx-mod-stream-1.12.2-2.el7.x86_64                                                                           21/21 

Installed:
  nginx.x86_64 1:1.12.2-2.el7                                                                                                         

Dependency Installed:
  dejavu-fonts-common.noarch 0:2.33-6.el7                        dejavu-sans-fonts.noarch 0:2.33-6.el7                                
  fontconfig.x86_64 0:2.13.0-4.3.el7                             gd.x86_64 0:2.0.35-26.el7                                            
  gperftools-libs.x86_64 0:2.6.1-1.0.1.el7                       libX11.x86_64 0:1.6.7-2.el7                                          
  libX11-common.noarch 0:1.6.7-2.el7                             libXau.x86_64 0:1.0.8-2.1.el7                                        
  libXpm.x86_64 0:3.5.12-1.el7                                   libjpeg-turbo.x86_64 0:1.2.90-8.el7                                  
  libxcb.x86_64 0:1.13-1.el7                                     libxslt.x86_64 0:1.1.28-5.0.1.el7                                    
  nginx-all-modules.noarch 1:1.12.2-2.el7                        nginx-filesystem.noarch 1:1.12.2-2.el7                               
  nginx-mod-http-geoip.x86_64 1:1.12.2-2.el7                     nginx-mod-http-image-filter.x86_64 1:1.12.2-2.el7                    
  nginx-mod-http-perl.x86_64 1:1.12.2-2.el7                      nginx-mod-http-xslt-filter.x86_64 1:1.12.2-2.el7                     
  nginx-mod-mail.x86_64 1:1.12.2-2.el7                           nginx-mod-stream.x86_64 1:1.12.2-2.el7                               

Complete!
[opc@demo-linux-vm ~]$ 
</pre>

    </div>
</div>

<h3 id="nginx-서비스-등록">nginx 서비스 등록</h3>

<p>다음 명령을 입력하여 nginx를 서비스로 등록하고 상태를 확인합니다.</p>

<pre><code>sudo systemctl start nginx
sudo systemctl status nginx
</code></pre>

<p>위 명령을 실행한 결과는 다음 이미지와 같습니다. 다음 이미지를 보면 Nginx가 작동하는 상태임을 확인할 수 있습니</p>

<p><img src="https://taewanmerepo.github.io/2020/ocidocs/vm/160.jpg?classes=border,shadow" alt="" /></p>

<h3 id="인스턴스-방화벽-오픈">인스턴스 방화벽 오픈</h3>

<p>다음 명령을 입력하여 nginx 서비스가 동작하는 것을 확인할 수 있습니다.</p>

<pre><code>curl 127.0.0.1 | head
</code></pre>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/120.jpg?classes=border,shadow" alt="" /></p>

<p><strong>demo-linux-vm</strong> Compute Instance의 공개 IP를 <a href="http://132.145.92.133/" target="_blank">http://132.145.92.133/ <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

를 브라우저로 접근하면 다음과 같이 접근이 불가능합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/130.jpg?classes=border,shadow" alt="" /></p>

<p>OCI의 Oracle Linux 7.7 이미지로 만든 Compute Instance에는 방화벽이 활성화되어 있습니다. 따라서 OS 방화벽에 해당 포트를 오픈해야 합니다. Oracle Linux에서 80포트를 오픈하는 명령은 다음과 같습니다. ssh로 접근한 터미널에 다음 명령을 실행합니다.</p>

<pre><code>sudo firewall-cmd --zone=public --add-port=80/tcp --permanent ## 80포트 오픈
sudo firewall-cmd --reload                 ## 방화벽 리로드 
sudo firewall-cmd --zone=public --list-all ## 방화벽 오픈 목록 조회
</code></pre>

<p>위 명령은 다음과 같이 실행됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/140.jpg?classes=border,shadow" alt="" /></p>

<h3 id="security-list-설정">Security List 설정</h3>

<p><strong>demo-linux-vm</strong> Compute Instance의 공개 IP에 접근하기 위해서는, 이 인스턴스가 위치하는 <strong>Public Subnet-demo-vcn</strong> 서브넷의 Security List에 80 포트를 오픈하는 Ingress Rule을 추가해야 합니다. <strong>demo-linux-vm</strong> Compute Instance의 상세 페이지에서 서브넷 링크 <strong>Public Subnet-demo-vcn</strong>을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/150.jpg?classes=border,shadow" alt="" /></p>

<p><strong>demo-linux-vm</strong> Compute Instance의 상세 페이지에서 <strong>Public Subnet-demo-vcn</strong> 링크를 클릭하면 <strong>demo_vcn</strong> VCN 상세 페이지로 이동합니다. <strong>demo_vcn</strong> VCN 상세 페이지의 Subnet 중에서 <font color='red'><strong>Public Subnet-demo-vcn</strong></font> 링크를 클릭하여 <strong>Public Subnet-demo-vcn</strong> 서브넷 상셍 페이지로 이동합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/160.jpg?classes=border,shadow" alt="" /></p>

<p><strong>Public Subnet-demo-vcn</strong> 서브넷 상셍 페이지에서 <strong>Security Lists</strong> 중에서 <font color='red'><strong>Default Security List for demo-vcn</strong></font> 링크를 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/170.jpg?classes=border,shadow" alt="" /></p>

<p><font color='red'><strong>Default Security List for demo-vcn</strong></font> Security List 페이지에서 <strong>Add Ingress Rules</strong> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/180.jpg?classes=border,shadow" alt="" /></p>

<p><strong>Add Ingress Rules</strong> 버튼을 클릭 Ingress Rule 등록 폼이 출력됩니다. 공개 서브넷에 80 포트 유입을 허용하는 보안 룰을 다음과 같이 설정하고 “Add Ingress Rules” 버튼을 클릭합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정 값</th>
</tr>
</thead>

<tbody>
<tr>
<td>Stateless 체크박스</td>
<td>체크 하지 않음</td>
</tr>

<tr>
<td>Source CIDR</td>
<td>0.0.0.0/0</td>
</tr>

<tr>
<td>IP Protocol</td>
<td>TCP</td>
</tr>

<tr>
<td>Source Port Range</td>
<td>All</td>
</tr>

<tr>
<td>Destination Port Range</td>
<td>80</td>
</tr>

<tr>
<td>Description</td>
<td>http port</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/190.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>Public Subnet의 80포트 유입 Security Rule 설정이 완료되면, 다음과 같은 80포트 Rule이 추가됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/200.jpg?classes=border,shadow" alt="" /></p>

<hr />

<h3 id="공개-ip-브라우저-접근">공개 IP 브라우저 접근</h3>

<p>Compute Instance가 위치하는 Subnet의 Security List 설정과 운영체제 방화벽 설정을 마치면, <strong>demo-linux-vm</strong> Compute Instance의 공개 IP로 브라우저로 접근 가능합니다. 브라우저로 접근하면 다음과 같은 화면이 출력됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/compute/210.jpg?classes=border,shadow" alt="" /></p>


    
    
      <div class="alert alert-info" role="alter">
  <li><strong>문서 생성:</strong> 2020-04-02 12:11 / <string>최종 문서 수정:</strong> 2020-04-02 12:11 </li>
</div><div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" title="VCN 생성(OCI Console:간편모드)"> <i class="fa fa-chevron-left"></i><label>VCN 생성(OCI Console:간편모드)</label></a>
    <a class="nav nav-next" href="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" title="VCN 생성(OCI Console:간편모드)" style="margin-right: 0px;"><label>VCN 생성(OCI Console:간편모드)</label><i class="fa fa-chevron-right"></i></a></div>
  </div>
  <div class="chevrons">
      <div class="row">
    <div class="author left">
        <img alt="김태완 avatar" src="https://taewanmerepo.github.io//taewan2.jpg" height="90" width="90">
    </div>
    <div class="author right">
		<li><b>작성자: 김태완</b></li>
        <li>사랑하는 민수와 데이터 관리, 데이터 분석 &amp; 클라우드에 집중하고 있습니다.</li>
        <li>E-mail: taewanme@gmail.com</li>
    </div>
</div><div class="panel panel-danger">
<div class="panel-heading">Disclaimer</div>
<div class="panel-body">이 저작물은 Oracle과 관계없이 개인으로서 개인의 시간을 할애하여 작성된 글 입니다. 본 글의 내용, 입장, 예측은 Oracle을 공식적으로 <font color="red"><bold>절대</bold></font> 대변하지 않습니다.</div>
</div>
<hr />


<div class="fb-comments" data-width="100%" data-numposts="10" data-href="http://taewan.kim/010.oci_intro/hands-on-101/030.oci_infra_basic/020.compute_instance/"></div>

  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 02/04/2020
    </div>
    
  </div>


	<div>


  



  </div>
  
  
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
        ga('create', 'UA-72835175-1', 'auto');
        ga('send', 'pageview');
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v3.2&appId=404519239985000&autoLogAppEvents=1';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>



    

    
    

    


  </body>
</html>