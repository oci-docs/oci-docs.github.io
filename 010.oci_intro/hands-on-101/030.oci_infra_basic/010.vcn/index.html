<!DOCTYPE html>
<html>
  <head>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2020-04-01T23:13:42 KST">

<meta name="description" content="오라클 클라우드 사용자 가이드입니다. 오라클 클라우드(OCI, Oracle Cloud Infrasturcture) 사용자를 위해 주요 문서를 정리합니다.">
<meta name="generator" content="Hugo 0.27.1" />
<meta property="og:title" content="OCI VCN" />
<meta property="og:description" content="OCI Console로 자원 접근 제어를 위해서 Policy를 적용하는 절차를 소개합니다." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" />



<meta property="article:published_time" content="2020-03-31T12:11:05&#43;09:00"/>
<meta property="article:modified_time" content="2020-03-31T12:11:05&#43;09:00"/>












<link rel="dns-prefetch" href="//fonts.googleapis.com" />



<title>OCI VCN :: 오라클 클라우드 사용자 가이드</title>

<link rel="shortcut icon" href="http://taewan.kim/img/icon/oracle.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="OCI Console로 자원 접근 제어를 위해서 Policy를 적용하는 절차를 소개합니다.">


<link href='/css/railload.css' rel="stylesheet"/>


<link href="/css/twstyle.css" rel="stylesheet">

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?style=Sons-Of-Obsidian"></script>


<style>
    li.L0, li.L1, li.L2, li.L3,
    li.L5, li.L6, li.L7, li.L8
       { list-style-type: decimal !important }
</style>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162015179-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162015179-1');
</script>





    
  </head>
  <body data-url="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">오라클 클라우드 사용자 가이드</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://cloud.oracle.com"  rel="noopener">
                  <i class='fa fa-cloud'></i> <label>Oracle Cloud</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://docs.cloud.oracle.com/"  rel="noopener">
                  <i class='fa fa-book'></i> <label>OCI Docs</label>
                </a>
            </li>
            <li class="" role="">
                <a href="http://taewan.kim/"  rel="noopener">
                  <i class='fa fa-send'></i> <label>taewan.kim blog</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
    <li data-nav-id="/000.index/" class="dd-item
        ">
      <div>
      <a href="/000.index/">오라클 클라우드 사용자 가이드</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/010.oci_intro/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/">OCI(Oracle Cloud)-기초 입문</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/010.oci_intro/basic_concept/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/basic_concept/">OCI 입문: 기본 개념</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_introduction/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_introduction/">
            Oracle Cloud Infrasturcture
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/terminologies/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/terminologies/">
            OCI 기초 용어 정리
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/">
            OCI Classic과 OCI Gen2
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_resion_info/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_resion_info/">
            OCI 리전 정보
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_services_in_regions/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_services_in_regions/">
            OCI 리전별 서비스 현황 
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oci_free_trial/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oci_free_trial/">
            OCI Free Tier
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/">
            OCI 사용자 ID 관리 서비스
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/initial_oci_tenancy/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/initial_oci_tenancy/">
            OCI Tenancy 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/" class="dd-item">
        <div>
          <a href="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/">
            클라우드 서비스 용어 비교
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/">OCI 입문: Hands-on 101 클래스</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/000.oci_free_trial/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/000.oci_free_trial/">
            OCI Free Tier 등록
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/010.console/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/010.console/">OCI Console</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/">
            OCI Console 로그인
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/">
            OCI Console 사용법
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/">OCI 사용자&amp;보안 설정</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/">
            OCI Admin 로그인 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/">
            OCI User 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/">
            OCI Group 생성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/">
            OCI Compartment 만들기
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/" class="dd-item">
        <div>
          <a href="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/">
            OCI Policy: 권한 설정
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/010.oci_intro/hands-on-101/030.oci_infra_basic/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/">OCI Infra 기초</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/" class="dd-item active">
        <div>
          <a href="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/">
            OCI VCN
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
        </ul>
    </li>




    </ul>
    <section><hr />
<div class="widget-categories widget">
	<h4 class="widget__title">&nbsp;&nbsp;License</h4>
	<div class="widget__content">
		&nbsp;&nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank><img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"></a>
	</div>
	<div class="widget__content">
        <div>
        이 저작물은 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.
        </div>
	</div>
</div>
<hr />
<div>
    <hr/>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-8469722754608892"
         data-ad-slot="5594090168"
         data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    <hr/>  
  </div>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/000.index/" >
   오라클 클라우드 사용자 가이드</option>
    <option value="/010.oci_intro/" >
   OCI(Oracle Cloud)-기초 입문</option> 
    <option value="/010.oci_intro/basic_concept/" >
  - 
   OCI 입문: 기본 개념</option> 
      <option value="/010.oci_intro/basic_concept/oci_introduction/" >-- Oracle Cloud Infrasturcture</option>
      <option value="/010.oci_intro/basic_concept/terminologies/" >-- OCI 기초 용어 정리</option>
      <option value="/010.oci_intro/basic_concept/oci_classic_and_oci_gen2/" >-- OCI Classic과 OCI Gen2</option>
      <option value="/010.oci_intro/basic_concept/oci_resion_info/" >-- OCI 리전 정보</option>
      <option value="/010.oci_intro/basic_concept/oci_services_in_regions/" >-- OCI 리전별 서비스 현황 </option>
      <option value="/010.oci_intro/basic_concept/oci_free_trial/" >-- OCI Free Tier</option>
      <option value="/010.oci_intro/basic_concept/oracle_cloud_identity_management_services/" >-- OCI 사용자 ID 관리 서비스</option>
      <option value="/010.oci_intro/basic_concept/initial_oci_tenancy/" >-- OCI Tenancy 생성</option>
      <option value="/010.oci_intro/basic_concept/cloud_terminologie_mapping_between_vendors/" >-- 클라우드 서비스 용어 비교</option>
  
    <option value="/010.oci_intro/hands-on-101/" >
  - 
   OCI 입문: Hands-on 101 클래스</option> 
      <option value="/010.oci_intro/hands-on-101/000.oci_free_trial/" >-- OCI Free Tier 등록</option>
    <option value="/010.oci_intro/hands-on-101/010.console/" >
  -- 
   OCI Console</option> 
      <option value="/010.oci_intro/hands-on-101/010.console/010.oci_console_login/" >--- OCI Console 로그인</option>
      <option value="/010.oci_intro/hands-on-101/010.console/020.oci_console_usage/" >--- OCI Console 사용법</option>
  
    <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/" >
  -- 
   OCI 사용자&amp;보안 설정</option> 
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/010.oci_admin_login/" >--- OCI Admin 로그인 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/020.oci_user/" >--- OCI User 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/030.oci_group/" >--- OCI Group 생성</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/040.oci_compartment/" >--- OCI Compartment 만들기</option>
      <option value="/010.oci_intro/hands-on-101/020.setting_basic_env/050.oci_policy/" >--- OCI Policy: 권한 설정</option>
  
    <option value="/010.oci_intro/hands-on-101/030.oci_infra_basic/" >
  -- 
   OCI Infra 기초</option> 
      <option value="/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/"  selected>--- OCI VCN</option>
  
  
  



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    <h1>OCI VCN</h1>
    <p><img src="https://taewanmerepo.github.io/2020/03/vcn/010.jpg" alt="OCI VCN"></p>


     
      
  
    
    
    
    

<p>OCI Compute 서비스를 사용하면 여러 VCN(Virtual Cloud Network)을 만들 수 있습니다. OCI 자원을 생성하고 배포하기 위해서는 다른 자원을 생성하기 전에 VCN 가장 먼저 만들어야 합니니다. VCN은 다음과 같은 네트워크 컴포넌트로 만들어집니다.</p>

<ul>
<li>Subnet</li>
<li>Route Table</li>
<li>Security List</li>
<li>Internet Gateway</li>
<li>NAT Gateway</li>
<li>Service Gateway</li>
<li>Dynamic Routing Gateway</li>
<li>Load Balancer</li>
<li>Local/Remote Peering</li>
</ul>

<h1 id="hol-oci-vcn">HOL: OCI VCN</h1>

<p>이번 <strong>Hands-on Lab</strong>에서는 OCI Console에서 제공하는 VCN(Virtual Cloud Network) 생성 간편 모드 기능을 사용하여 다음과 같은 VCN을 만들겠습니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/vcn/000.jpg?classes=border,shadow" alt="" /></p>

<p>이번 <strong>Hands-on Lab</strong>은 다음과 같은 순서로 진행합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><p><nav id="TableOfContents">
<ul>
<li><a href="#hol-oci-vcn">HOL: OCI VCN</a>
<ul>
<li><a href="#hands-on-lab-실습-환경">Hands-on Lab 실습 환경</a></li>
<li><a href="#oci-vcn-프로비저닝-간편모드">OCI VCN 프로비저닝: 간편모드</a></li>
<li><a href="#oci-iam-policy-개요">OCI IAM Policy 개요</a>
<ul>
<li><a href="#oci-iam-policy-패턴">OCI IAM Policy 패턴</a></li>
<li><a href="#oci-iam-policy-verb">OCI IAM Policy: verb</a></li>
<li><a href="#oci-iam-policy-resource-type">OCI IAM Policy: resource-type</a></li>
<li><a href="#oci-iam-policy-하부-compartment">OCI IAM Policy: 하부 Compartment</a></li>
<li><a href="#oci-iam-policy-예제">OCI IAM Policy: 예제</a></li>
</ul></li>
<li><a href="#hol-oci-policy-적용">HOL: OCI Policy 적용</a>
<ul>
<li><a href="#oci-policy-관리-페이지-이동">OCI Policy 관리 페이지 이동</a></li>
<li><a href="#hol-admin-policy-생성">hol-admin-Policy 생성</a></li>
<li><a href="#hol-audits-policy-생성">hol-audits-Policy 생성</a></li>
<li><a href="#hol-tests-policy-생성">hol-tests-Policy 생성</a></li>
<li><a href="#hol-developers-policy-생성">hol-developers-Policy 생성</a></li>
</ul></li>
</ul></li>
<li><a href="#참고문서">참고문서</a></li>
</ul>
</nav></p>
</div></div>


<h2 id="hands-on-lab-실습-환경">Hands-on Lab 실습 환경</h2>

<p>이 <strong>Hands-on Lab</strong>은 OCI Admin 사용자로 OCI IAM 옵션으로 로그인한 상태에서 진행합니다. 이번 <strong>Hands-on Lab</strong>에서 사용할 OCI User와 컴파트먼트는 다음과 같습니다.</p>

<table>
<thead>
<tr>
<th>OCI User</th>
<th>Password</th>
<th>작업 Compartment</th>
</tr>
</thead>

<tbody>
<tr>
<td>demo.user</td>
<td>Welcome123456!</td>
<td>root/sandbox/demo-prod</td>
</tr>
</tbody>
</table>

<h2 id="oci-vcn-프로비저닝-간편모드">OCI VCN 프로비저닝: 간편모드</h2>

<p>OCI Console에 <strong>demo.user</strong> ID로 OCI IAM 옵션으로 로그인합니다. 그리고 VCN을 생성하기 위해서 다음과 같은 메뉴 패스로 이동합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><span class="glyphicon glyphicon-menu-hamburger" style="font-size:medium" aria-hidden="true"></span> (<strong>OCI 콘솔 왼쪽 위 햄버그 버튼</strong>) <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span>  <strong>Networking</strong> <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span> <strong>Virutla Cloud Network</strong></div></div>


<p><img src="https://taewanmerepo.github.io/2020/ocidocs/vcn/020.jpg?classes=border,shadow" alt="" /></p>

<p>OCI User 중에서</p>

<ul>
<li>VCN이름: demo-vcn</li>
<li>Compartemnt: root/sandbox/demo-prod</li>
<li>Subnet

<ul>
<li>Public Subnet-dem-vcn

<ul>
<li>CIDR Block: 10.0.0.0/24</li>
</ul></li>
<li>Private Subnet-demo-vcn

<ul>
<li>CIDR Block: 10.0.1.0/24</li>
</ul></li>
</ul></li>
</ul>

<p>이번 Hands-on Lab에서는 OCI 자원에 대한 접근 제어 설정을 다룹니다. OCI에서는 OCI IAM Policy로 OCI 자원에 대한 권한 설정을 합니다. 이 Hands-on Lab은 OCI Admin 사용자로 OCI IAM 옵션으로 로그인한 상태에서 진행합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1200.jpg?classes=border,shadow" alt="" /></p>

<p>위 이미지와 같은 접근 제어를 구성합니다. 핸즈온 랩 다음과 같은 순서로 진행합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><p><nav id="TableOfContents">
<ul>
<li><a href="#hol-oci-vcn">HOL: OCI VCN</a>
<ul>
<li><a href="#hands-on-lab-실습-환경">Hands-on Lab 실습 환경</a></li>
<li><a href="#oci-vcn-프로비저닝-간편모드">OCI VCN 프로비저닝: 간편모드</a></li>
<li><a href="#oci-iam-policy-개요">OCI IAM Policy 개요</a>
<ul>
<li><a href="#oci-iam-policy-패턴">OCI IAM Policy 패턴</a></li>
<li><a href="#oci-iam-policy-verb">OCI IAM Policy: verb</a></li>
<li><a href="#oci-iam-policy-resource-type">OCI IAM Policy: resource-type</a></li>
<li><a href="#oci-iam-policy-하부-compartment">OCI IAM Policy: 하부 Compartment</a></li>
<li><a href="#oci-iam-policy-예제">OCI IAM Policy: 예제</a></li>
</ul></li>
<li><a href="#hol-oci-policy-적용">HOL: OCI Policy 적용</a>
<ul>
<li><a href="#oci-policy-관리-페이지-이동">OCI Policy 관리 페이지 이동</a></li>
<li><a href="#hol-admin-policy-생성">hol-admin-Policy 생성</a></li>
<li><a href="#hol-audits-policy-생성">hol-audits-Policy 생성</a></li>
<li><a href="#hol-tests-policy-생성">hol-tests-Policy 생성</a></li>
<li><a href="#hol-developers-policy-생성">hol-developers-Policy 생성</a></li>
</ul></li>
</ul></li>
<li><a href="#참고문서">참고문서</a></li>
</ul>
</nav></p>
</div></div>


<h2 id="oci-iam-policy-개요">OCI IAM Policy 개요</h2>

<p>OCI IAM policy의 기본 문법은 다음과 같습니다.</p>

<pre><code>Allow &lt;subject&gt; to &lt;verb&gt; &lt;resource-type&gt; in &lt;location&gt; where &lt;conditions&gt;
</code></pre>

<h3 id="oci-iam-policy-패턴">OCI IAM Policy 패턴</h3>

<p>OCI IAM Policy는 주로 OCI Group에 적용됩니다. 따라서 기본적인 사용법은 다음과 같습니다.</p>

<ul>
<li>Case 1: 특정 OCI Group을 특정 Compartment에 포함된 자원의 접근 제어 설정</li>
</ul>

<pre><code>Allow group &lt;group_name&gt; to &lt;verb&gt; &lt;resource-type&gt; in compartment &lt;compartment_name&gt;
</code></pre>

<ul>
<li>Case 2: 특정 OCI Group이 Tenancy 전체 자원 접근 제어 설정</li>
</ul>

<pre><code>Allow group &lt;group_name&gt; to &lt;verb&gt; &lt;resource-type&gt; in tenancy
</code></pre>

<h3 id="oci-iam-policy-verb">OCI IAM Policy: verb</h3>

<p>Policy에 적용하는 verb는 다음과 같습니다.</p>

<table>
<thead>
<tr>
<th>Verb</th>
<th>설명</th>
<th>대상 OCI User</th>
</tr>
</thead>

<tbody>
<tr>
<td>inspect</td>
<td>- 사용자 정의 메타데이터, 보안 정보를 제외한 자원을 리스트(조회)할 수 있는 권한</td>
<td>조회가 필요한 제3자 사용자</td>
</tr>

<tr>
<td>read</td>
<td>- inspect에 추가하여 사용자 정의 메타데이터도 조회할 수 있는 권한 포함</td>
<td>조회가 필요한 내부 사용자</td>
</tr>

<tr>
<td>use</td>
<td>- read의 모든 권한 포함</br> - 자원을 사용할 수 있는 권한 포함</br> - 자원 생성, 삭제에 대한 권한은 포함하지 않음 </br> 일반적인 업데이트 권한 포함</br></td>
<td>일반 사용자</td>
</tr>

<tr>
<td>manage</td>
<td>해당 자원의 모든 권한 부여</td>
<td>관리자</td>
</tr>
</tbody>
</table>

<h3 id="oci-iam-policy-resource-type">OCI IAM Policy: resource-type</h3>

<p>IAM Policy에는 다음과 같은 resource-type을 설정할 수 있습니다.</p>

<table>
<thead>
<tr>
<th>자원 타입</th>
<th>유형</th>
</tr>
</thead>

<tbody>
<tr>
<td>개별 자원 타입</td>
<td>vcns, subnets, instances, volumes &hellip;.</td>
</tr>

<tr>
<td>유사 자원 타입</td>
<td>virtual-network-family, instance-family, volume-family &hellip;.</td>
</tr>

<tr>
<td>모든 자원 지정</td>
<td>all-resources</td>
</tr>
</tbody>
</table>

<h3 id="oci-iam-policy-하부-compartment">OCI IAM Policy: 하부 Compartment</h3>

<p>Compartment가 계층 구조를 갖을 경우에 상위 Compartment에 부여된 Policy는 하위 Compartment에 적용됩니다.</p>

<h3 id="oci-iam-policy-예제">OCI IAM Policy: 예제</h3>

<p>OCI IAM Policy 예제입니다.</p>

<ul>
<li><p>예제1: admins 그룹에 테넌시 전체에 모든 자원 관리 권한 부여
<pre class="prettyprint lang-bsh">
Allow group admims to manage all-resources in tenancy
</pre></p></li>

<li><p>예제2: developers 그룹에 Project-A 컴파트먼트에 Compute 자원의 모든 권한 부여
<pre class="prettyprint lang-bsh">
Allow group developers to manage instance-family in compartment Project-A
</pre></p></li>

<li><p>예제3: admins 그룹에 Project-A 컴파트먼트에 volume 자원의 모든 권한 부여
<pre class="prettyprint lang-bsh">
Allow group admins to manage volume-family in compartment Project-A
</pre></p></li>

<li><p>예제4: developers 그룹에 Project-A 컴파트먼트에 VCN 자원의 사용 권한 부여
<pre class="prettyprint lang-bsh">
Allow group developers to manage virtual-network-family in compartment Project-A
</pre></p></li>

<li><p>예제 5: 모든 사용자에게 계정 전체 자원의 읽기 권한 부여
<pre class="prettyprint lang-bsh">
Allow any-user to inspect users in tenancy
</pre></p></li>
</ul>

<h2 id="hol-oci-policy-적용">HOL: OCI Policy 적용</h2>

<p>핸즈온 랩에서는 다음과 같은 시나리오를 적용합니다.</p>

<ul>
<li>HOL 시나리오

<ul>
<li>hol.admins 그룹에 포함된 사용자는 sandbox 컴파트먼트 아래 모든 컴파트먼트에 자원 생성, 사용, 제거 가능</li>
<li>hol.audits 그룹은  hol.prod 컴파트먼트에 생성된 자원을 상태를 확인할 수만 있음, 제어 권한 없음</li>
<li>hol.tests 그룹은 hol.test 컴파트먼트에 생성된 자원을 시작/정지만 가능, 자원 생성/제거 권한 없음</li>
<li>hol.developers 그룹은 hol.dev 컴파트먼트에 생성된 자원을 시작/정지만 가능, 자원 생성 제거 권한 없음</li>
</ul></li>
</ul>

<h3 id="oci-policy-관리-페이지-이동">OCI Policy 관리 페이지 이동</h3>

<p>OCI Console에서 OCI Policy 관리 페이지는 다음 메뉴 패스로 이동합니다.</p>


<div class="panel panel-primary"><div class="panel-body"><span class="glyphicon glyphicon-menu-hamburger" style="font-size:medium" aria-hidden="true"></span> (<strong>콘솔 왼쪽 위 햄버그 버튼</strong>) <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span> <strong>Identity</strong> <span class="glyphicon glyphicon-menu-right" style="font-size:medium" aria-hidden="true"></span> <strong>Policies</strong></div></div>


<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/815.jpg?classes=border,shadow" alt="" /></p>

<p>위 메뉴 패스로 이동하면 OCI Policy 관리 페이지가 출력됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/817.jpg?classes=border,shadow" alt="" /></p>

<h3 id="hol-admin-policy-생성">hol-admin-Policy 생성</h3>

<p>hol.admins 사용자 그룹에게 sandbox 컴파트먼트 아래에 모든 자원의 전체 권한을 부여하는 policy를 생성합니다. 이 Policy는 sandbox를 포함한 모든 하위 컴파트먼트에 적용됩니다. 따라서 hol.admins 사용자 그룹은 sandbox, hol-prod, hol-dev, hol-test 컴파트먼트의 모든 자원 관리 권한을 갖습니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/820.jpg?classes=border,shadow" alt="" /></p>

<p>sandbox 컴파트먼트는 root 컴파트먼트 아래에 위치합니다. 따라서 OCI Policy 관리 페이지에서 root 컴파트먼트를 선택하고 <strong>Create Policy</strong> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/830.jpg?classes=border,shadow" alt="" /></p>

<p>Policy 생성 폼에 다음과 같은 값을 입력하고 <strong>Create</strong> 버튼을 클릭합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>Name</td>
<td>hol-admins-policy</td>
</tr>

<tr>
<td>Description</td>
<td>데모: 관리자 그룹을 위한 권한 설정</td>
</tr>

<tr>
<td>Policy Statements</td>
<td>allow group hol.admins to manage all-resources in compartment sandbox</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/840.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p><strong>hol-admins-policy</strong> policy가 만들어지면 다음과 같이 상세 페이지로 이동합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/850.jpg?classes=border,shadow" alt="" /></p>

<h3 id="hol-audits-policy-생성">hol-audits-Policy 생성</h3>

<p>hol.audits 사용자 그룹에게 sandbox 컴파트먼트 아래에 모든 자원의 조회 권한을 부여하는 policy를 생성합니다. 이 Policy 적용 대상 범위는 hol-prod 컴파트먼트에 한정됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1210.jpg?classes=border,shadow" alt="" /></p>

<p>hol-prod 컴파트먼트는 sandbox 컴파트먼트 아래에 위치합니다. 따라서 OCI Policy 관리 페이지에서 root 컴파트먼트를 선택하고 <strong>Create Policy</strong> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1230.jpg?classes=border,shadow" alt="" /></p>

<p>Policy 생성 폼에 다음과 같은 값을 입력하고 <strong>Create</strong> 버튼을 클릭합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>Name</td>
<td>hol-audits-policy</td>
</tr>

<tr>
<td>Description</td>
<td>데모: 감리 그룹을 위한 권한 설정</td>
</tr>

<tr>
<td>Policy Statements</td>
<td>allow group hol.audits to read all-resources in compartment sandbox</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1240.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p><strong>hol-audits-policy</strong> policy가 만들어지면 다음과 같이 상세 페이지로 이동합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1250.jpg?classes=border,shadow" alt="" /></p>

<h3 id="hol-tests-policy-생성">hol-tests-Policy 생성</h3>

<p>hol.tests 사용자 그룹에게 sandbox 컴파트먼트 아래의 hol-test 컴파트먼트의 모든 자원의 사용 권한을 부여하는 policy를 생성합니다. 이 Policy 적용 대상 범위는 hol-test 컴파트먼트에 한정됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/920.jpg?classes=border,shadow" alt="" /></p>

<p>hol-test 컴파트먼트는 sandbox 컴파트먼트 아래에 위치합니다. 따라서 OCI Policy 관리 페이지에서 sandbox 컴파트먼트를 선택하고 <strong>Create Policy</strong> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1010.jpg?classes=border,shadow" alt="" /></p>

<p>Policy 생성 폼에 다음과 같은 값을 입력하고 <strong>Create</strong> 버튼을 클릭합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>Name</td>
<td>hol-tests-policy</td>
</tr>

<tr>
<td>Description</td>
<td>데모: QA 그룹을 위한 권한 설정</td>
</tr>

<tr>
<td>Policy Statements</td>
<td>allow group hol.testers to use all-resources in compartment hol-test</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1020.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p><strong>hol-tests-policy</strong> policy가 만들어지면 다음과 같이 상세 페이지로 이동합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1050.jpg?classes=border,shadow" alt="" /></p>

<h3 id="hol-developers-policy-생성">hol-developers-Policy 생성</h3>

<p>hol.developers 사용자 그룹에게 sandbox 컴파트먼트 아래의 hol-dev 컴파트먼트의 모든 자원 사용 권한을 부여하는 policy를 생성합니다. 이 Policy 적용 대상 범위는 hol-dev 컴파트먼트에 한정됩니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1040.jpg?classes=border,shadow" alt="" /></p>

<p>hol-dev 컴파트먼트는 sandbox 컴파트먼트 아래에 위치합니다. 따라서 OCI Policy 관리 페이지에서 sandbox 컴파트먼트를 선택하고 <strong>Create Policy</strong> 버튼을 클릭합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1060.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p>Policy 생성 폼에 다음과 같은 값을 입력하고 <strong>Create</strong> 버튼을 클릭합니다.</p>

<table>
<thead>
<tr>
<th>설정 항목</th>
<th>설정값</th>
</tr>
</thead>

<tbody>
<tr>
<td>Name</td>
<td>hol-developers-policy</td>
</tr>

<tr>
<td>Description</td>
<td>데모: 개발자 그룹을 위한 권한 설정</td>
</tr>

<tr>
<td>Policy Statements</td>
<td>allow group hol.developers to use all-resources in compartment hol-dev</td>
</tr>
</tbody>
</table>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1070.jpg?classes=border,shadow" alt="" /></p>

<hr />

<p><strong>hol-tests-policy</strong> policy가 만들어지면 다음과 같이 상세 페이지로 이동합니다.</p>

<p><img src="https://taewanmerepo.github.io/2020/03/usersetting/1080.jpg?classes=border,shadow" alt="" /></p>

<h1 id="참고문서">참고문서</h1>

<ul>
<li><a href="https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Concepts/policysyntax.htm" target="_blank">[Official OCI Docs]Policy Syntax <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
<li><a href="https://docs.cloud.oracle.com/en-us/iaas/Content/Identity/Reference/corepolicyreference.htm" target="_blank">[Official OCI Docs]Details for the Core Services <span class="glyphicon glyphicon-new-window" style="font-size:medium" aria-hidden="true"></span> </a>

</li>
</ul>


    
    
      <div class="alert alert-info" role="alter">
  <li><strong>문서 생성:</strong> 2020-03-31 12:11 / <string>최종 문서 수정:</strong> 2020-03-31 12:11 </li>
</div><div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/010.oci_intro/hands-on-101/030.oci_infra_basic/" title="OCI Infra 기초"> <i class="fa fa-chevron-left"></i><label>OCI Infra 기초</label></a>
    <a class="nav nav-next" href="/010.oci_intro/hands-on-101/000.oci_free_trial/" title="OCI Free Tier 등록" style="margin-right: 0px;"><label>OCI Free Tier 등록</label><i class="fa fa-chevron-right"></i></a></div>
  </div>
  <div class="chevrons">
      <div class="row">
    <div class="author left">
        <img alt="김태완 avatar" src="https://taewanmerepo.github.io//taewan2.jpg" height="90" width="90">
    </div>
    <div class="author right">
		<li><b>작성자: 김태완</b></li>
        <li>사랑하는 민수와 데이터 관리, 데이터 분석 &amp; 클라우드에 집중하고 있습니다.</li>
        <li>E-mail: taewanme@gmail.com</li>
    </div>
</div><div class="panel panel-danger">
<div class="panel-heading">Disclaimer</div>
<div class="panel-body">이 저작물은 Oracle과 관계없이 개인으로서 개인의 시간을 할애하여 작성된 글 입니다. 본 글의 내용, 입장, 예측은 Oracle을 공식적으로 <font color="red"><bold>절대</bold></font> 대변하지 않습니다.</div>
</div>
<hr />


<div class="fb-comments" data-width="100%" data-numposts="10" data-href="http://taewan.kim/010.oci_intro/hands-on-101/030.oci_infra_basic/010.vcn/"></div>

  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 31/03/2020
    </div>
    
  </div>


	<div>


  



  </div>
  
  
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        
        ga('create', 'UA-72835175-1', 'auto');
        ga('send', 'pageview');
</script>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v3.2&appId=404519239985000&autoLogAppEvents=1';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>



    

    
    

    


  </body>
</html>